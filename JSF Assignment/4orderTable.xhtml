<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <title>Order Table</title>
</h:head>

<h:body>
    <h:form>
        <h:dataTable value="#{orderBean.orderList}" var="item" border="1">

            <h:column>
                <f:facet name="header">Order No</f:facet>
                #{item.orderNo}
            </h:column>

            <h:column>
                <f:facet name="header">Product Name</f:facet>
                <h:outputText value="#{item.productName}" rendered="#{!item.editable}" />
                <h:inputText value="#{item.productName}" rendered="#{item.editable}" />
            </h:column>

            <h:column>
                <f:facet name="header">Price</f:facet>
                <h:outputText value="#{item.price}" rendered="#{!item.editable}" />
                <h:inputText value="#{item.price}" rendered="#{item.editable}" />
            </h:column>

            <h:column>
                <f:facet name="header">Quantity</f:facet>
                <h:outputText value="#{item.quantity}" rendered="#{!item.editable}" />
                <h:inputText value="#{item.quantity}" rendered="#{item.editable}" />
            </h:column>

            <h:column>
                <f:facet name="header">Action</f:facet>
                <h:commandButton value="Edit" 
                                 action="#{orderBean.editRow(item)}"
                                 rendered="#{!item.editable}" />
                <h:outputText value="Editing..." rendered="#{item.editable}" />
            </h:column>

        </h:dataTable>

        <br/>

        <!-- Global Save Button -->
        <h:commandButton value="Save Changes" 
                         action="#{orderBean.saveAll}" 
                         style="background:green;color:white;padding:5px 10px;" />
    </h:form>
</h:body>
</html>
